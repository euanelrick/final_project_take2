"0",""
"0","train_data_smote <- ovun.sample(loan_paid_flag ~ .,"
"0","                                data = training_loans,"
"0","                                N = nrow(training_loans))$data %>% "
"0","  drop_na()"
"0",""
"0",""
"0","smote_model <- glm("
"0","  loan_paid_flag ~ .,"
"0","  data = train_data_smote,"
"0","  family = binomial()"
"0",")"
"0",""
"0","summary(smote_model)"
"1","
Call:
"
"1",""
"1","glm(formula = loan_paid_flag ~ ., family = binomial(), data = train_data_smote)"
"1",""
"1","

"
"1","Deviance Residuals: 
"
"1","    Min  "
"1","     1Q  "
"1"," Median  "
"1","     3Q  "
"1","    Max  "
"1","
"
"1","-2.3543  "
"1","-1.0544  "
"1","-0.4168  "
"1"," 1.0489  "
"1"," 2.2115  "
"1","
"
"1","
Coefficients: ("
"1",""
"1","1"
"1",""
"1"," not defined because of singularities)
"
"1","                         "
"1","   Estimate"
"1"," Std. Error"
"1"," z value"
"1"," Pr(>|z|)"
"1","    "
"1","
(Intercept)              "
"1","  6.996e-01"
"1","  7.775e-01"
"1","   0.900"
"1","  0.36822"
"1","    "
"1","
loan_amnt                "
"1","  1.234e+00"
"1","  2.945e-01"
"1","   4.188"
"1"," 2.81e-05"
"1"," ***"
"1","
funded_amnt              "
"1"," -5.585e-01"
"1","  3.066e-01"
"1","  -1.821"
"1","  0.06858"
"1"," .  "
"1","
funded_amnt_inv          "
"1"," -2.742e-05"
"1","  3.562e-06"
"1","  -7.696"
"1"," 1.40e-14"
"1"," ***"
"1","
term_mths60              "
"1","  6.207e-01"
"1","  3.444e-02"
"1","  18.023"
"1","  < 2e-16"
"1"," ***"
"1","
int_rate                 "
"1","  3.484e+00"
"1","  3.391e-01"
"1","  10.274"
"1","  < 2e-16"
"1"," ***"
"1","
sub_gradeB               "
"1"," -1.041e-01"
"1","  6.592e-02"
"1","  -1.579"
"1","  0.11442"
"1","    "
"1","
sub_gradeC               "
"1"," -2.198e-01"
"1","  9.156e-02"
"1","  -2.400"
"1","  0.01638"
"1"," *  "
"1","
sub_gradeD               "
"1"," -1.730e-01"
"1","  1.119e-01"
"1","  -1.547"
"1","  0.12194"
"1","    "
"1","
sub_gradeE               "
"1"," -2.579e-01"
"1","  1.300e-01"
"1","  -1.984"
"1","  0.04728"
"1"," *  "
"1","
sub_gradeF               "
"1"," -1.280e-02"
"1","  1.548e-01"
"1","  -0.083"
"1","  0.93414"
"1","    "
"1","
sub_gradeG               "
"1"," -2.358e-01"
"1","  1.948e-01"
"1","  -1.211"
"1","  0.22593"
"1","    "
"1","
emp_length10+ years      "
"1","  1.783e-01"
"1","  3.249e-02"
"1","   5.487"
"1"," 4.09e-08"
"1"," ***"
"1","
emp_length3-5 years      "
"1","  6.758e-02"
"1","  3.232e-02"
"1","   2.091"
"1","  0.03651"
"1"," *  "
"1","
emp_length6-9 years      "
"1","  4.289e-02"
"1","  4.194e-02"
"1","   1.023"
"1","  0.30653"
"1","    "
"1","
home_ownershipNONE       "
"1"," -8.664e+00"
"1","  7.246e+01"
"1","  -0.120"
"1","  0.90482"
"1","    "
"1","
home_ownershipOTHER      "
"1","  7.509e-01"
"1","  2.384e-01"
"1","   3.150"
"1","  0.00163"
"1"," ** "
"1","
home_ownershipOWN        "
"1"," -1.291e-01"
"1","  4.889e-02"
"1","  -2.642"
"1","  0.00824"
"1"," ** "
"1","
home_ownershipRENT       "
"1"," -4.694e-03"
"1","  2.848e-02"
"1","  -0.165"
"1","  0.86911"
"1","    "
"1","
annual_inc               "
"1"," -1.449e+00"
"1","  6.706e-02"
"1"," -21.608"
"1","  < 2e-16"
"1"," ***"
"1","
income_verification_flag1"
"1","  6.224e-02"
"1","  2.675e-02"
"1","   2.327"
"1","  0.01998"
"1"," *  "
"1","
purposecredit_card       "
"1"," -2.288e-01"
"1","  7.893e-02"
"1","  -2.899"
"1","  0.00375"
"1"," ** "
"1","
purposedebt_consolidation"
"1","  7.434e-02"
"1","  7.185e-02"
"1","   1.035"
"1","  0.30082"
"1","    "
"1","
purposeeducational       "
"1","  4.324e-01"
"1","  1.468e-01"
"1","   2.946"
"1","  0.00322"
"1"," ** "
"1","
purposehome_improvement  "
"1","  1.213e-01"
"1","  8.292e-02"
"1"," 'glm.fit'"
"1","  0.14345"
"1","    "
"1","
purposehouse             "
"1","  2.069e-01"
"1","  1.422e-01"
"1","   1.455"
"1","  0.14576"
"1","    "
"1","
purposemajor_purchase    "
"1"," -8.502e-02"
"1","  8.796e-02"
"1","  -0.967"
"1","  0.33375"
"1","    "
"1","
purposemedical           "
"1","  3.308e-01"
"1","  1.160e-01"
"1","   2.852"
"1","  0.00434"
"1"," ** "
"1","
purposemoving            "
"1","  2.843e-01"
"1","  1.181e-01"
"1","   2.408"
"1","  0.01605"
"1"," *  "
"1","
purposeother             "
"1","  4.395e-01"
"1","  7.818e-02"
"1","   5.622"
"1"," 1.89e-08"
"1"," ***"
"1","
purposerenewable_energy  "
"1","  1.601e-01"
"1","  2.395e-01"
"1","   0.669"
"1","  0.50380"
"1","    "
"1","
purposesmall_business    "
"1","  7.919e-01"
"1","  8.669e-02"
"1","   9.135"
"1","  < 2e-16"
"1"," ***"
"1","
purposevacation          "
"1","  4.210e-01"
"1","  1.397e-01"
"1","   3.015"
"1","  0.00257"
"1"," ** "
"1","
purposewedding           "
"1"," -1.447e-01"
"1","  1.072e-01"
"1","  -1.350"
"1","  0.17706"
"1","    "
"1","
dti                      "
"1","  7.959e-04"
"1","  2.140e-03"
"1","   0.372"
"1","  0.71001"
"1","    "
"1","
fico_range_low           "
"1"," -1.116e-03"
"1","  7.112e-04"
"1","  -1.569"
"1","  0.11676"
"1","    "
"1","
fico_range_high          "
"1","         NA"
"1","         NA"
"1","      NA"
"1","       NA"
"1","    "
"1","
inq_last_6mths           "
"1","  1.681e-01"
"1","  1.151e-02"
"1","  14.607"
"1","  < 2e-16"
"1"," ***"
"1","
open_acc                 "
"1","  2.904e-02"
"1","  6.820e-02"
"1","   0.426"
"1","  0.67026"
"1","    "
"1","
pub_rec                  "
"1","  4.940e-01"
"1","  9.217e-02"
"1","   5.360"
"1"," 8.33e-08"
"1"," ***"
"1","
revol_bal                "
"1","  5.125e-06"
"1","  9.648e-07"
"1","   5.312"
"1"," 1.08e-07"
"1"," ***"
"1","
revol_util               "
"1","  3.957e-03"
"1","  5.718e-04"
"1","   6.921"
"1"," 4.47e-12"
"1"," ***"
"1","
pub_rec_bankruptcies     "
"1"," -1.569e-01"
"1","  1.053e-01"
"1","  -1.490"
"1","  0.13626"
"1","    "
"1","
"
"1","---
Signif. codes:  "
"1",""
"1","0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1"
"1","
"
"1","
(Dispersion parameter for "
"1",""
"1","binomial"
"1",""
"1"," family taken to be "
"1",""
"1","1"
"1",""
"1",")

"
"1",""
"1","    Null deviance: 43542  on 31408  degrees of freedom
"
"1",""
"1","Residual deviance: 39123  on 31367  degrees of freedom
"
"1","AIC: "
"1",""
"1","39207"
"1",""
"1","

"
"1",""
"1","Number of Fisher Scoring iterations: "
"1",""
"1","8"
"1",""
"1","
"
"1","
"
"0","smote_pred_test <- testing_loans %>% "
"0","  add_predictions(smote_model, type = ""response"")"
"2","Warning: prediction from a rank-deficient fit may be misleading"
"0","smote_roc_test <- smote_pred_test %>% "
"0","  roc(response = loan_paid_flag, predictor = pred)"
"2","Setting levels: control = No, case = Yes
"
"2","Setting direction: controls > cases
"
"0","smote_roc_curve_test <- ggroc(data = smote_roc_test, legacy.axes = TRUE) +"
"0","  coord_fixed() + "
"0","  ylab(""sensitivity (TPR)"") + "
"0","  xlab(""1-specificity (TNR)"")"
"0",""
"0",""
"0","smote_roc_curve_test"
