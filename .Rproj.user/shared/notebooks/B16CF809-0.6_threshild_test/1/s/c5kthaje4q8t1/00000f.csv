"0",""
"0","train_data_smote <- ovun.sample(loan_paid_flag ~ .,"
"0","                                data = training_loans,"
"0","                                N = nrow(training_loans))$data %>% "
"0","  drop_na()"
"0",""
"0",""
"0","smote_model <- glm("
"0","  loan_paid_flag ~ .,"
"0","  data = train_data_smote,"
"0","  family = binomial()"
"0",")"
"0",""
"0","summary(smote_model)"
"1","
Call:
"
"1",""
"1","glm(formula = loan_paid_flag ~ ., family = binomial(), data = train_data_smote)"
"1",""
"1","

"
"1","Deviance Residuals: 
"
"1","   Min  "
"1","    1Q  "
"1","Median  "
"1","    3Q  "
"1","   Max  "
"1","
"
"1","-2.453  "
"1","-1.056  "
"1","-0.459  "
"1"," 1.054  "
"1"," 2.184  "
"1","
"
"1","
Coefficients: ("
"1",""
"1","1"
"1",""
"1"," not defined because of singularities)
"
"1","                         "
"1","   Estimate"
"1"," Std. Error"
"1"," z value"
"1"," Pr(>|z|)"
"1","    "
"1","
(Intercept)              "
"1","  2.038e+00"
"1","  7.333e-01"
"1","   2.778"
"1"," 0.005462"
"1"," ** "
"1","
loan_amnt                "
"1","  1.024e+00"
"1","  2.676e-01"
"1","   3.824"
"1"," 0.000131"
"1"," ***"
"1","
funded_amnt              "
"1"," -3.495e-01"
"1","  2.798e-01"
"1","  -1.249"
"1"," 0.211535"
"1","    "
"1","
funded_amnt_inv          "
"1"," -2.475e-05"
"1","  3.397e-06"
"1","  -7.287"
"1"," 3.17e-13"
"1"," ***"
"1","
term_mths60              "
"1","  6.209e-01"
"1","  3.251e-02"
"1","  19.097"
"1","  < 2e-16"
"1"," ***"
"1","
int_rate                 "
"1","  2.955e+00"
"1","  3.171e-01"
"1","   9.319"
"1","  < 2e-16"
"1"," ***"
"1","
sub_gradeB               "
"1"," -6.343e-02"
"1","  6.163e-02"
"1","  -1.029"
"1"," 0.303368"
"1","    "
"1","
sub_gradeC               "
"1"," -1.447e-01"
"1","  8.576e-02"
"1","  -1.688"
"1"," 0.091492"
"1"," .  "
"1","
sub_gradeD               "
"1"," -5.600e-02"
"1","  1.048e-01"
"1","  -0.535"
"1"," 0.592976"
"1","    "
"1","
sub_gradeE               "
"1"," -1.411e-01"
"1","  1.221e-01"
"1","  -1.156"
"1"," 0.247689"
"1","    "
"1","
sub_gradeF               "
"1"," -6.306e-03"
"1","  1.437e-01"
"1","  -0.044"
"1"," 0.965004"
"1","    "
"1","
sub_gradeG               "
"1"," -1.879e-01"
"1","  1.770e-01"
"1","  -1.062"
"1"," 0.288330"
"1","    "
"1","
emp_length10+ years      "
"1","  2.512e-01"
"1","  3.061e-02"
"1","   8.206"
"1"," 2.29e-16"
"1"," ***"
"1","
emp_length3-5 years      "
"1","  4.251e-02"
"1","  3.048e-02"
"1","   1.395"
"1"," 0.163139"
"1","    "
"1","
emp_length6-9 years      "
"1","  5.286e-02"
"1","  3.972e-02"
"1","   1.331"
"1"," 0.183192"
"1","    "
"1","
home_ownershipOTHER      "
"1","  3.875e-01"
"1","  2.245e-01"
"1","   1.726"
"1"," 0.084352"
"1"," .  "
"1","
home_ownershipOWN        "
"1","  2.449e-02"
"1","  4.551e-02"
"1","   0.538"
"1"," 0.590519"
"1","    "
"1","
home_ownershipRENT       "
"1","  1.621e-02"
"1","  2.699e-02"
"1","   0.600"
"1"," 0.548245"
"1","    "
"1","
annual_inc               "
"1"," -1.551e+00"
"1","  6.345e-02"
"1"," -24.444"
"1","  < 2e-16"
"1"," ***"
"1","
income_verification_flag1"
"1","  2.798e-02"
"1","  2.521e-02"
"1","   1.110"
"1"," 0.266974"
"1","    "
"1","
purposecredit_card       "
"1","  6.664e-02"
"1","  7.311e-02"
"1","   0.911"
"1"," 0.362075"
"1","    "
"1","
purposedebt_consolidation"
"1","  3.625e-01"
"1","  6.697e-02"
"1","   5.413"
"1"," 6.21e-08"
"1"," ***"
"1","
purposeeducational       "
"1","  7.130e-01"
"1","  1.342e-01"
"1","   5.313"
"1"," 1.08e-07"
"1"," ***"
"1","
purposehome_improvement  "
"1","  3.737e-01"
"1","  7.777e-02"
"1","   4.805"
"1"," 1.55e-06"
"1"," ***"
"1","
purposehouse             "
"1","  4.161e-01"
"1","  1.322e-01"
"1","   3.148"
"1"," 0.001642"
"1"," ** "
"1","
purposemajor_purchase    "
"1","  1.628e-01"
"1","  8.208e-02"
"1","   1.983"
"1"," 0.047351"
"1"," *  "
"1","
purposemedical           "
"1","  6.585e-01"
"1","  1.052e-01"
"1","   6.258"
"1"," 3.91e-10"
"1"," ***"
"1","
purposemoving            "
"1","  8.260e-01"
"1","  1.093e-01"
"1","   7.556"
"1"," 4.14e-14"
"1"," ***"
"1","
purposeother             "
"1","  5.837e-01"
"1","  7.263e-02"
"1","   8.036"
"1"," 9.29e-16"
"1"," ***"
"1","
purposerenewable_energy  "
"1","  9.658e-01"
"1","  2.267e-01"
"1","   4.260"
"1"," 2.05e-05"
"1"," ***"
"1","
purposesmall_business    "
"1","  1.107e+00"
"1","  8.038e-02"
"1","  13.776"
"1","  < 2e-16"
"1"," ***"
"1","
purposevacation          "
"1","  7.080e-01"
"1","  1.314e-01"
"1","   5.387"
"1"," 7.15e-08"
"1"," ***"
"1","
purposewedding           "
"1","  5.312e-02"
"1","  1.016e-01"
"1","   0.523"
"1"," 0.601054"
"1","    "
"1","
dti                      "
"1","  4.879e-03"
"1","  2.017e-03"
"1","   2.418"
"1"," 0.015586"
"1"," *  "
"1","
fico_range_low           "
"1"," -2.055e-03"
"1","  6.701e-04"
"1","  -3.067"
"1"," 0.002165"
"1"," ** "
"1","
fico_range_high          "
"1","         NA"
"1","         NA"
"1","      NA"
"1","       NA"
"1","    "
"1","
inq_last_6mths           "
"1","  1.375e-01"
"1","  1.078e-02"
"1","  12.757"
"1","  < 2e-16"
"1"," ***"
"1","
open_acc                 "
"1","  6.739e-02"
"1","  6.458e-02"
"1","   1.043"
"1"," 0.296744"
"1","    "
"1","
pub_rec                  "
"1","  3.265e-01"
"1","  8.879e-02"
"1","   3.677"
"1"," 0.000236"
"1"," ***"
"1","
revol_bal                "
"1","  4.906e-06"
"1","  9.376e-07"
"1","   5.232"
"1"," 1.67e-07"
"1"," ***"
"1","
revol_util               "
"1","  3.177e-03"
"1","  5.391e-04"
"1","   5.893"
"1"," 3.78e-09"
"1"," ***"
"1","
pub_rec_bankruptcies     "
"1","  8.544e-03"
"1","  1.020e-01"
"1","   0.084"
"1"," 0.933271"
"1","    "
"1","
"
"1","---
Signif. codes:  "
"1",""
"1","0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1"
"1","
"
"1","
(Dispersion parameter for "
"1",""
"1","binomial"
"1",""
"1"," family taken to be "
"1",""
"1","1"
"1",""
"1",")

"
"1",""
"1","    Null deviance: 48984  on 35334  degrees of freedom
"
"1",""
"1","Residual deviance: 44120  on 35294  degrees of freedom
"
"1","AIC: "
"1",""
"1","44202"
"1",""
"1","

"
"1",""
"1","Number of Fisher Scoring iterations: "
"1",""
"1","4"
"1",""
"1","
"
"1","
"
"0","smote_pred_test <- testing_loans %>% "
"0","  add_predictions(smote_model, type = ""response"")"
"2","Warning: prediction from a rank-deficient fit may be misleading"
"0","smote_roc_test <- smote_pred_test %>% "
"0","  roc(response = loan_paid_flag, predictor = pred)"
"2","Setting levels: control = No, case = Yes
"
"2","Setting direction: controls > cases
"
"0","smote_roc_curve_test <- ggroc(data = smote_roc_test, legacy.axes = TRUE) +"
"0","  coord_fixed() + "
"0","  ylab(""sensitivity (TPR)"") + "
"0","  xlab(""1-specificity (TNR)"")"
"0",""
"0",""
"0","smote_roc_curve_test"
